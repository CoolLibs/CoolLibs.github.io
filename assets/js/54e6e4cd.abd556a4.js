"use strict";(self.webpackChunkcool_doc=self.webpackChunkcool_doc||[]).push([[4150],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return p}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=c(n),p=i,h=m["".concat(s,".").concat(p)]||m[p]||d[p]||a;return n?o.createElement(h,r(r({ref:t},u),{},{components:n})):o.createElement(h,r({ref:t},u))}));function p(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<a;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7015:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return u},default:function(){return m}});var o=n(7462),i=n(3366),a=(n(7294),n(3905)),r=["components"],l={title:"Dev Guide"},s=void 0,c={unversionedId:"contributing/devguide",id:"contributing/devguide",isDocsHomePage:!1,title:"Dev Guide",description:"Here you will find useful information to start working on the project :",source:"@site/docs/contributing/02-devguide.md",sourceDirName:"contributing",slug:"/contributing/devguide",permalink:"/home/docs/contributing/devguide",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Dev Guide"},sidebar:"contributing",previous:{title:"Welcome",permalink:"/home/docs/contributing"},next:{title:"Commit guidelines",permalink:"/home/docs/contributing/commit-guidelines"}},u=[{value:"Formatting",id:"formatting",children:[]},{value:"Write documentation",id:"write-documentation",children:[]},{value:"Write an article",id:"write-an-article",children:[]},{value:"Write debug checks",id:"write-debug-checks",children:[]},{value:"How to : Write a Cool module",id:"how-to--write-a-cool-module",children:[]},{value:"When to : Write a Cool module",id:"when-to--write-a-cool-module",children:[]},{value:"Work on a branch",id:"work-on-a-branch",children:[]},{value:"Commit Guidelines",id:"commit-guidelines",children:[]},{value:"Coding Guidelines",id:"coding-guidelines",children:[]}],d={toc:u};function m(e){var t=e.components,n=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Here you will find useful information to start working on the project :"),(0,a.kt)("h2",{id:"formatting"},"Formatting"),(0,a.kt)("p",null,"We use the famous ",(0,a.kt)("inlineCode",{parentName:"p"},"clang-format")," as our formatting tool. You will need to install it (on Windows this happens through the ",(0,a.kt)("inlineCode",{parentName:"p"},"Visual Studio Installer")," : modify your ",(0,a.kt)("inlineCode",{parentName:"p"},"Visual Studio Build Tools")," and add ",(0,a.kt)("inlineCode",{parentName:"p"},"C++ Clang Tools for Windows"),")."),(0,a.kt)("p",null,"Then on VS Code I recommended this extension : ",(0,a.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=xaver.clang-format"},"xaver.clang-format")," ; and you should enable ",(0,a.kt)("inlineCode",{parentName:"p"},"Format on Save")," in your VS Code settings."),(0,a.kt)("p",null,"Note that in some very specific cases you can disable ",(0,a.kt)("inlineCode",{parentName:"p"},"clang-format")," locally to use some non-standard formatting, using these special comments : "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"// clang-format off\nvoid on_mouse_move  (Camera& camera, glm::vec2 const& delta) { std::visit([&](auto&& state) { state.on_mouse_move  (*this, camera, delta); }, _state); }\nvoid on_wheel_down  (Camera& camera, int mods)               { std::visit([&](auto&& state) { state.on_wheel_down  (*this, camera, mods);  }, _state); }\nvoid on_wheel_up    (Camera& camera)                         { std::visit([&](auto&& state) { state.on_wheel_up    (*this, camera);        }, _state); }\nvoid on_wheel_scroll(Camera& camera, float dl)               { std::visit([&](auto&& state) { state.on_wheel_scroll(*this, camera, dl);    }, _state); }\n// clang-format on\n")),(0,a.kt)("h2",{id:"write-documentation"},"Write documentation"),(0,a.kt)("p",null,"We use Doxygen-style documentation. I would suggest you install this extension for VS Code : ",(0,a.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=cschlosser.doxdocgen"},"cschlosser.doxdocgen")),(0,a.kt)("p",null,"Then you simply need to type */","*","*",(0,a.kt)("em",{parentName:"p"}," and press "),"enter* to generate the documenting comment for the class or method."),(0,a.kt)("p",null,"Try to be as descriptive as possible in your documentation : mention any hickups and subtleties, and give an example if the usage is not obvious."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"/**\n * @brief Returns the Color of the (x, y) pixel. No bound checking is done, so this will crash if x is not inside [0, width() - 1] or y is not inside [0, height() - 1]\n * \n * @param x x coordinate of the pixel (0 is at the left of the image)\n * @param y y coordinate of the pixel (0 is at the bottom of the image)\n * @return The Color of the given pixel\n */\nColor& color_at(unsigned int x, unsigned int y) { return _pixel_colors[x + y * _width]; }\n")),(0,a.kt)("h2",{id:"write-an-article"},"Write an article"),(0,a.kt)("p",null,"It would be nice to have an article on this website for each module we write. The goal of those articles is to describe our thought process and the technical choices that we make (architecture, design pattern, optimization / simplicity of the API, . . .)."),(0,a.kt)("p",null,"It is a great way of creating and sharing knowledge : these resources will surely prove useful to many one day, and forcing you to write down the choices you made should have you question whether they are really the best, and strive to improve your own design."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To learn how to edit this website"),", check it out ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/CoolLibs/CoolLab-Devlog/"},"on GitHub"),"."),(0,a.kt)("h2",{id:"write-debug-checks"},"Write debug checks"),(0,a.kt)("p",null,"If there is some invariant that must be verified, add debug checks to make sure users of your code don't mess up !\nYou can use ",(0,a.kt)("inlineCode",{parentName:"p"},"assert")," in the simpler cases, but sometimes you will need to add variables to keep track of some state. In that case, wrap the debug code in a "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"#ifdef DEBUG\n// . . .\n#endif\n")),(0,a.kt)("p",null,"block so that it doesn't impact release build performance."),(0,a.kt)("p",null,"An example would be to make sure an initialization function is called once, and only once :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"class MyClass {\npublic:\n    void initialize() {\n#ifdef DEBUG\n        assert(!_is_initialized);\n        _is_initialized = true;\n#endif\n        // . . .\n    }\n\n    void use_my_class() {\n        assert(_is_initialized);\n        // . . .\n    }\n\nprivate:\n#ifdef DEBUG\n    bool _is_initialized = false;\n#endif\n};\n")),(0,a.kt)("h2",{id:"how-to--write-a-cool-module"},"How to : Write a Cool module"),(0,a.kt)("p",null,"Create a dedicated folder.\nWrap your code in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Cool")," namespace"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"namespace Cool {\n\nclass MyClass {\n    // . . .\n};\n\n} // namespace Cool\n")),(0,a.kt)("h2",{id:"when-to--write-a-cool-module"},"When to : Write a Cool module"),(0,a.kt)("p",null,"Everything that might be reused across projects should be part of the ",(0,a.kt)("em",{parentName:"p"},"Cool")," framework."),(0,a.kt)("h2",{id:"work-on-a-branch"},"Work on a branch"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Never commit directly on the ",(0,a.kt)("inlineCode",{parentName:"strong"},"main")," branch !")," This is to avoid having to resolve merge conflicts on every commit while many people work on different areas. It is simpler that we each work on a branch, and only merge once in a while."),(0,a.kt)("p",null,"When you start working on a feature, create a dedicated branch and work there."),(0,a.kt)("p",null,"Once the feature is finished (or advanced enough that it would be interesting to merge) :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"merge ",(0,a.kt)("inlineCode",{parentName:"li"},"main")," into your branch and resolve any conflict that might arise"),(0,a.kt)("li",{parentName:"ul"},"submit a pull request and wait for the peer review")),(0,a.kt)("h2",{id:"commit-guidelines"},"Commit Guidelines"),(0,a.kt)("h2",{id:"coding-guidelines"},"Coding Guidelines"))}m.isMDXComponent=!0}}]);