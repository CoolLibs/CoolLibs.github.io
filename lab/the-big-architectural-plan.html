<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cool RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cool Atom Feed"><title data-react-helmet="true">The Big Architectural Plan | Cool</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://coollibs.github.io//lab/the-big-architectural-plan"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="The Big Architectural Plan | Cool"><meta data-react-helmet="true" name="description" content="Our Big Architectural Plan (informally known as BAP) will lay out the foundations for a composable and extensible software that will allow the convergence and interaction of many different generative art techniques. It will be easy to change, control, customize, script and reuse existing components in many different ways."><meta data-react-helmet="true" property="og:description" content="Our Big Architectural Plan (informally known as BAP) will lay out the foundations for a composable and extensible software that will allow the convergence and interaction of many different generative art techniques. It will be easy to change, control, customize, script and reuse existing components in many different ways."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://coollibs.github.io//lab/the-big-architectural-plan"><link data-react-helmet="true" rel="alternate" href="https://coollibs.github.io//lab/the-big-architectural-plan" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://coollibs.github.io//lab/the-big-architectural-plan" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5fbba7f7.css">
<link rel="preload" href="/assets/js/runtime~main.dcf9120b.js" as="script">
<link rel="preload" href="/assets/js/main.90c8db5b.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-32x32.png" alt="Cool&#x27;s Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon-32x32.png" alt="Cool&#x27;s Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/cool">Cool</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lab">Lab</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/contribute">Contribute</a><a class="navbar__item navbar__link" href="/learn">Learn</a><a class="navbar__item navbar__link" href="/internships">Internships</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CoolLibs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleChecked_cnQY toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" checked="" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab">Lab</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/our-philosophy">Our Philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/our-roadmap">Our Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/lab/the-big-architectural-plan">The Big Architectural Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/inspirations">Inspirations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/lab/Similar Softwares">Similar Softwares</a><button aria-label="Toggle the collapsible sidebar category &#x27;Similar Softwares&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/financial-support">Financial Support</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The Big Architectural Plan</h1></header><p>Our <em>Big Architectural Plan</em> (informally known as <em>BAP</em>) will lay out the foundations for a composable and extensible software that will allow the convergence and interaction of many different generative art techniques. It will be easy to change, control, customize, script and reuse existing components in many different ways.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-1-objects-registries"><a href="https://github.com/CoolLibs/reg" target="_blank" rel="noopener noreferrer">âœ… Part 1: Objects Registries</a><a class="hash-link" href="#-part-1-objects-registries" title="Direct link to heading">â€‹</a></h2><p><a href="https://github.com/CoolLibs/reg" target="_blank" rel="noopener noreferrer"><strong>Done!</strong> This is our <em>reg</em> library.</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-2-the-command-pattern">ðŸš§ Part 2: The Command pattern<a class="hash-link" href="#-part-2-the-command-pattern" title="Direct link to heading">â€‹</a></h2><p><a href="https://github.com/CoolLibs/cmd" target="_blank" rel="noopener noreferrer">See the readme of our <em>cmd</em> library.</a></p><h3></h3><p>What are the problems with global access ? Does our Command-based architexture suffer from it?</p><ul><li>hard to change: tied to the existence of one specific thing</li><li>hard to know all the people who mutate it</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-2b-parameters-and-history">ðŸš§ Part 2b: Parameters and History<a class="hash-link" href="#-part-2b-parameters-and-history" title="Direct link to heading">â€‹</a></h2><p>Once the Registries and the Commands are in place we can improve our existing Parameters and History systems. This is an optional step that doesn&#x27;t prevent us from moving on to part 3.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-3-the-rendering-dispatcher">ðŸ”­ Part 3: The Rendering Dispatcher<a class="hash-link" href="#-part-3-the-rendering-dispatcher" title="Direct link to heading">â€‹</a></h2><p>We want to &quot;multithread&quot; our use of the GPU. For example the UI (ImGui) is rendered on the GPU, and we don&#x27;t want it to be blocked by the fact that some of our shaders could take seconds to render a nice ray-traced scene. This should be possible to achieve by using <em>Async Compute</em>: ImGui is rendered using the &quot;main&quot; graphics queue, while the heavy rendering work is dony on compute-only queues. <a href="https://stackoverflow.com/questions/55272626/what-is-actually-a-queue-family-in-vulkan" target="_blank" rel="noopener noreferrer">See this explanation of the different queues and the architecture of modern GPUs</a>.<br>
Since most of our shaders are fullscreen passes they should be easy to turn into compute shaders and run asynchronously.</p><p>Another technique that will help us is to split the rendering of an image into tiles, allowing us to split the rendering over several frames, and display parts of the image as they get rendered. Or alternatively we could render for example one pixel out of four: this would allow us to have a &quot;low-res&quot; version of our image quickly, and then the other pixels can be computed later. This should be better than the tile-based approach to get an idea of what the whole image looks like. On the other hand the tile-based version quickly shows you the final quality, though on only a fraction of the image.</p><p><a href="https://www.youtube.com/watch?v=CFXKTXtil34" target="_blank" rel="noopener noreferrer">Mesh shaders</a> are also an interesting topic to look into.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-4-modules-and-scenes">ðŸ”­ Part 4: Modules and Scenes<a class="hash-link" href="#-part-4-modules-and-scenes" title="Direct link to heading">â€‹</a></h2><p>Modules know what their dependencies are, and only refresh their output image when needed. A <code>Scene</code> is a graph of modules that interact together.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-part-5-the-timeline">ðŸ”­ Part 5: The Timeline<a class="hash-link" href="#-part-5-the-timeline" title="Direct link to heading">â€‹</a></h2><p>The <code>Timeline</code> lays out the different <code>Scene</code>s in time, and allows basic compositing of them (for example one scene on top of another).</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lab/our-roadmap"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Our Roadmap</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/lab/inspirations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inspirations</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-part-1-objects-registries" class="table-of-contents__link toc-highlight">âœ… Part 1: Objects Registries</a></li><li><a href="#-part-2-the-command-pattern" class="table-of-contents__link toc-highlight">ðŸš§ Part 2: The Command pattern</a></li><li><a href="#-part-2b-parameters-and-history" class="table-of-contents__link toc-highlight">ðŸš§ Part 2b: Parameters and History</a></li><li><a href="#-part-3-the-rendering-dispatcher" class="table-of-contents__link toc-highlight">ðŸ”­ Part 3: The Rendering Dispatcher</a></li><li><a href="#-part-4-modules-and-scenes" class="table-of-contents__link toc-highlight">ðŸ”­ Part 4: Modules and Scenes</a></li><li><a href="#-part-5-the-timeline" class="table-of-contents__link toc-highlight">ðŸ”­ Part 5: The Timeline</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Our projects</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs/Lab" target="_blank" rel="noopener noreferrer" class="footer__link-item">CoolLab</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/Demo" target="_blank" rel="noopener noreferrer" class="footer__link-item">CoolDemo</a></li></ul></div><div class="col footer__col"><div class="footer__title">Raise an issue!</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs/Cool/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask a question</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/Cool/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Give us feedback</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/home/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a mistake</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022. Built with <a href="https://docusaurus.io/">Docusaurus</a>.
                    <div>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
                    </div></div></div></footer></div>
<script src="/assets/js/runtime~main.dcf9120b.js"></script>
<script src="/assets/js/main.90c8db5b.js"></script>
</body>
</html>