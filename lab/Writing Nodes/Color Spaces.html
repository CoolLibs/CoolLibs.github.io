<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cool RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cool Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-react-helmet="true">Color Spaces | Cool</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://coollibs.github.io//lab/Writing Nodes/Color Spaces"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Color Spaces | Cool"><meta data-react-helmet="true" name="description" content="There exist quite a few different color spaces and alpha spaces. They all have a reason to be and address a different aspect of the complex problem that is color representation. Understanding the differences between these spaces is essential to determine which space will be better suited for the node you want to implement."><meta data-react-helmet="true" property="og:description" content="There exist quite a few different color spaces and alpha spaces. They all have a reason to be and address a different aspect of the complex problem that is color representation. Understanding the differences between these spaces is essential to determine which space will be better suited for the node you want to implement."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://coollibs.github.io//lab/Writing Nodes/Color Spaces"><link data-react-helmet="true" rel="alternate" href="https://coollibs.github.io//lab/Writing Nodes/Color Spaces" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://coollibs.github.io//lab/Writing Nodes/Color Spaces" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6e89471e.css">
<link rel="preload" href="/assets/js/runtime~main.ee75ba6d.js" as="script">
<link rel="preload" href="/assets/js/main.8ebcfaae.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-32x32.png" alt="Cool&#x27;s Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon-32x32.png" alt="Cool&#x27;s Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/cool">Cool</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lab">Lab</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/contribute">Contribute</a><a class="navbar__item navbar__link" href="/learn">Learn</a><a class="navbar__item navbar__link" href="/internships">Internships</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CoolLibs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleChecked_cnQY toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" checked="" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab">Lab</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/lab/Tutorials/is0/Sphere">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/lab/Writing Nodes/Intro">Writing Nodes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Primitive types">Primitive types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Inputs">Inputs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Presets">Presets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Category">Category</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lab/Writing Nodes/Color Spaces">Color Spaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Output Indices">Output Indices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Helper functions">Helper functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Standard constants and functions">Standard constants and functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lab/Writing Nodes/Generics">Generics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/lab/Dev/our-philosophy">Dev</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/financial-support">Financial Support</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Color Spaces</h1></header><p>There exist quite a few different color spaces and alpha spaces. They all have a reason to be and address a different aspect of the complex problem that is color representation. Understanding the differences between these spaces is essential to determine which space will be better suited for the node you want to implement.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="color-spaces">Color Spaces<a class="hash-link" href="#color-spaces" title="Direct link to heading">â€‹</a></h2><p>You can watch this presentation to get of good first introduction to color spaces: <a href="https://youtu.be/AS1OHMW873s" target="_blank" rel="noopener noreferrer">RGB to XYZ: The Science and History of Color</a>.</p><p>If you have the choice between several color spaces because your effect will work the same in any of those, here is a list in order of which to prefer:</p><ul><li>CIELAB</li><li>Linear RGB</li><li>sRGB</li><li>HSLuv</li></ul><p>Now let&#x27;s see why you might prefer one space over another:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cielab">CIELAB<a class="hash-link" href="#cielab" title="Direct link to heading">â€‹</a></h3><p>In this space the euclidean distance between the <code>vec3</code>s accurately represents the perceived difference in color by a human. This means that if you need to do anything that is perceptually accurate, e.g. blending between two colors, CIELAB is what you need.<br>
<strong>This is the space that most effects will want to use.</strong></p><p>The first component stores the lightness, a number between 0 and 1.<br>
The second and third components store chromaticity information. They don&#x27;t have a specific range.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="hsluv">HSLuv<a class="hash-link" href="#hsluv" title="Direct link to heading">â€‹</a></h3><p>You might already be familiar with HSL (Hue - Saturation - Lightness); <a href="https://www.hsluv.org/" target="_blank" rel="noopener noreferrer">HSLuv</a> is simply a perceptually-accurate version of it.</p><p><strong>This is what you will want to use in nodes that directly manipulate either the hue and / or the saturation.</strong> (Note that CIELAB also gives you access to the lightness so there is no need to use HSLuv if you are only interested in the lightness).</p><p>The three channels are numbers between 0 and 1.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="linear-rgb">Linear RGB<a class="hash-link" href="#linear-rgb" title="Direct link to heading">â€‹</a></h3><p>When doing physically-based rendering in 3D, you are using Linear RGB because you are manipulating amounts of light (photons) and adding them together.<br>
<strong>This is why this space will be the one that a 3D renderer will manipulate and output.</strong></p><p>All the three channels are numbers between 0 and 1.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="srgb">sRGB<a class="hash-link" href="#srgb" title="Direct link to heading">â€‹</a></h3><p>This is the standard input and output format. All the colors in our UI are expressed in sRGB, and all the images you will import most likely contain sRGB values. If you go to any color picker / color palette website, they will give you values in sRGB.<br>
<strong>Effects hardly ever need to manipulate sRGB though</strong>, because this space is neither perceptually nor physically correct.</p><p>All the three channels are numbers between 0 and 1.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="alpha-spaces">Alpha Spaces<a class="hash-link" href="#alpha-spaces" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="premultiplied">Premultiplied<a class="hash-link" href="#premultiplied" title="Direct link to heading">â€‹</a></h3><p>Premultiplied alpha is when the color components have been multiplied by the alpha. This might sound like a surprising thing to do, but it actually helps effects like blurring and blending to behave properly. <a href="https://youtu.be/WtYfF48Z9mA?list=PL9_jI1bdZmz2emSh0UQ5iOdT2xRHFHL7E&amp;t=960" target="_blank" rel="noopener noreferrer">See this great lesson</a>.<br>
<strong>This is why premultiplied alpha will almost always be what you want to use.</strong></p><blockquote><p>NB: for Color-&gt;Color effects that don&#x27;t use the alpha, if some premultiplied alpha is plugged in as input we first un-premultiply the color, then pass it to the effect, then re-premultiply. This is the same behavior as <a href="https://youtu.be/klqSJiPqmGU" target="_blank" rel="noopener noreferrer">&quot;Pre-Divide / Post-Multiply&quot; in Resolve/Fusion</a>. This basically means that everything will work as expected intuitively and you don&#x27;t have to worry about it.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="straight">Straight<a class="hash-link" href="#straight" title="Direct link to heading">â€‹</a></h3><p>Straight alpha is what most people know. This is what is used in our UI and what any imported image will most likely use. <strong>Effects will hardly ever need to use it though</strong> because it doesn&#x27;t work quite as good as premultiplied alpha.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lab/Writing Nodes/Category"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Category</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/lab/Writing Nodes/Output Indices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Output Indices</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#color-spaces" class="table-of-contents__link toc-highlight">Color Spaces</a><ul><li><a href="#cielab" class="table-of-contents__link toc-highlight">CIELAB</a></li><li><a href="#hsluv" class="table-of-contents__link toc-highlight">HSLuv</a></li><li><a href="#linear-rgb" class="table-of-contents__link toc-highlight">Linear RGB</a></li><li><a href="#srgb" class="table-of-contents__link toc-highlight">sRGB</a></li></ul></li><li><a href="#alpha-spaces" class="table-of-contents__link toc-highlight">Alpha Spaces</a><ul><li><a href="#premultiplied" class="table-of-contents__link toc-highlight">Premultiplied</a></li><li><a href="#straight" class="table-of-contents__link toc-highlight">Straight</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Our projects</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs/Lab" target="_blank" rel="noopener noreferrer" class="footer__link-item">CoolLab</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/Demo" target="_blank" rel="noopener noreferrer" class="footer__link-item">CoolDemo</a></li></ul></div><div class="col footer__col"><div class="footer__title">Raise an issue!</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs/Cool/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask a question</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/Cool/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Give us feedback</a></li><li class="footer__item"><a href="https://github.com/CoolLibs/home/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a mistake</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CoolLibs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023. Built with <a href="https://docusaurus.io/">Docusaurus</a>.
                    <div>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
                    </div></div></div></footer></div>
<script src="/assets/js/runtime~main.ee75ba6d.js"></script>
<script src="/assets/js/main.8ebcfaae.js"></script>
</body>
</html>